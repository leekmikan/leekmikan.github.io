<!DOCTYPE html>
<html lang="ja">
	<head>
	<meta charset="utf-8">
	<meta content='width=device-width,initial-scale=1.0,minimum-scale=1.0' name='viewport'/>
	<meta name="description" content="Wavファイルにエフェクトを付けられるよ。現在C++から移植中...">
	<title>エフェクター</title>
	<link rel="stylesheet" href="des.css">
	<link href="https://fonts.googleapis.com/css2?family=Pinyon+Script&display=swap" rel="stylesheet">
	<link rel="icon" type="image/jpg" href="../icon.jpg">
	<link rel="apple-touch-icon" sizes="180x180" href="../icon.jpg">
	</head>
		<body>
			<p>16bit 2chのwavファイルを選択</p>
			<input type="file" id="file"><br><br><br>
			<div class="ct">
				<p>ここに生成される</p>
				<audio id="pre" controls src=""></audio>
			</div>
			<input id="sp" type="checkbox">再生速度<br>
			速度：<input type="range" id="speed" min="0.5" max="4" value="1.0" step="0.01" onchange="document.getElementById('speed_v').innerHTML = this.value"><span id="speed_v">1.00</span>倍速<br>
			ピッチ：<input type="range" id="pitch" min="-12" max="24" value="0.0" step="0.1" onchange="document.getElementById('pitch_v').innerHTML = this.value"><span id="pitch_v">0.00</span><br>
			<button onclick="var x = 12 * Math.log2(Number(document.getElementById('speed').value));document.getElementById('pitch').value = x; document.getElementById('pitch_v').innerText = '' + x;">速度に合わせる</button>
			<button onclick="var x = Math.pow(2,Number(document.getElementById('pitch').value) / 12);document.getElementById('speed').value = x; document.getElementById('speed_v').innerText = '' + x;">音程に合わせる</button>
			<div class="ct">
				<button onclick="Wexport();">生成</button>
			</div>
			<p>高校2年生の頃に作って、ちょくちょくアップデートしているC++のコードのJavaScript移植版</p>
			<h2>今後移植予定(2024/8/16)</h2>
			<ol>
				<li>フランジャー</li>
				<li>拍子入れ替え</li>
				<li>ボーカルキャンセラー(左右のチャンネルの差/2)</li>
				<li>畳み込みリバーブ(フーリエ変換の関係で重くなるから後になるかも)</li>
				<li>オルゴール(フーリエ変換の関係で重くなるから後になるかも)</li>
				<li>逆再生</li>
				<li>サンプリングレート変更</li>
				<li>モノラル(2chのまま)</li>
				<li>区間で切り抜き</li>
				<li>左右で数十ms遅延させる関数</li>
				<li>コンプレッサー</li>
				<li>...</li>
			</ol>
			<p><a href="https://leekmikan.github.io/pg/index.html">元のコード(C++)はこちら</a></p>
			<p><a href="Music.js">JavaScriptコードはこちら</a></p>
		</body>
		<script src="Music.js"></script>
		<script src="main.js"></script>
	</head>
</html>